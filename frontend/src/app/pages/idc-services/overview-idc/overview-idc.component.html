<nz-breadcrumb nz-page-header-breadcrumb [nzAutoGenerate]="true">
  <nz-breadcrumb-item>
    <i nz-icon nzType="home"></i>
  </nz-breadcrumb-item>
</nz-breadcrumb>
<br>
<nz-form-item>
  <nz-form-label nzFor="filter">Chọn tháng để xem</nz-form-label>
  <nz-form-control nzHasFeedback>
    <nz-date-picker nzMode="month" [(ngModel)]="dateSelected" (ngModelChange)="onChange($event)" nzFormat="MM/yyyy">
    </nz-date-picker>
  </nz-form-control>
</nz-form-item>

<!-- IDC -->
<div nz-row [nzGutter]="24">
  <div nz-col class="gutter-row" [nzSpan]="24">
    <nz-card nzTitle="Dịch vụ Hạ tầng lưu trữ">
      <div nz-row [nzGutter]="24">
        <div nz-col class="gutter-row" [nzSpan]="6">
          <nz-statistic [nzValue]="allCusIDC" [nzTitle]="'Tổng số khách hàng'" [nzPrefix]="prefixTplOne"
            [nzSuffix]="'khách hàng'" [nzValueStyle]="{ color: '#3F8600' }">
          </nz-statistic>
          <ng-template #prefixTplOne><i nz-icon nzType="arrow-up"></i></ng-template>
          <nz-statistic [nzValue]="allCusCanceledIDC" [nzTitle]="'Số khách hàng hủy'" [nzPrefix]="prefixTplTwo"
            [nzSuffix]="'khách hàng'" [nzValueStyle]="{ color: 'red' }">
          </nz-statistic>
          <ng-template #prefixTplTwo><i nz-icon nzType="arrow-down"></i></ng-template>
        </div>
        <div nz-col class="gutter-row" [nzSpan]="18">
          <h3>- Số lượng khách hàng cần gia hạn:
            <ng-container *ngIf="countExpired != 0; else elseTemplate">
              <a (click)="openListExpired()"><span style="color: red; font-weight: bold;" nz-tooltip nzTooltipTitle="Chọn để xem chi tiết">{{countExpired}} khách
                  hàng</span></a>
            </ng-container>
            <ng-template #elseTemplate>
              <span style="color: red; font-weight: bold;">{{countExpired}} khách hàng</span>
            </ng-template>
          </h3>
          <nz-table [nzTemplateMode]="true" nzBordered>
            <thead>
              <tr>
                <th nzAlign="center">STT</th>
                <th nzAlign="center">Năm</th>
                <th nzAlign="center">Số khách hàng PTM</th>
                <th nzAlign="center">Số khách hàng gia hạn</th>
                <th nzAlign="center">Số khách hàng Hủy</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of countIDC; index as i">
                <td nzAlign="center">{{ i+1 }}</td>
                <td nzAlign="center">{{data._id.year}}</td>
                <td nzAlign="center"><span nz-tooltip nzTooltipTitle="Chọn để xem chi tiết"><a
                      (click)="viewListByStatus(data._id.year, '1')">{{data.countNew}}</a></span></td>
                <td nzAlign="center"><span nz-tooltip nzTooltipTitle="Chọn để xem chi tiết"><a
                      (click)="viewListByStatus(data._id.year, '2')">{{data.countExtend}}</a></span></td>
                <td nzAlign="center"><span nz-tooltip nzTooltipTitle="Chọn để xem chi tiết"><a
                      (click)="viewListByStatus(data._id.year, '3')">{{data.countCanceled}}</a></span></td>
              </tr>
            </tbody>
          </nz-table>
        </div>
      </div>
    </nz-card>
  </div>
</div>
<br>
<!--
<div nz-row [nzGutter]="16">
  <div nz-col class="gutter-row" [nzSpan]="12">
    <p-chart type="line" [data]="dataLineChart"></p-chart>

  </div>
  <div nz-col class="gutter-row" [nzSpan]="12">
    <p-chart type="bar" [data]="dataBarChart"></p-chart>
  </div>
</div> -->
